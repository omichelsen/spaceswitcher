/* ------------------ */function clearSelected(){$(".spaceswitcher .results div.selected").removeClass("selected")}function getFirst(){return $(".spaceswitcher .group div").first()}function navUp(){clearSelected();navItemSelected?navItemSelected=navItemSelected.prev():navItemSelected=getFirst();navItemSelected.addClass("selected")}function navDown(){clearSelected();navItemSelected?navItemSelected=navItemSelected.next():navItemSelected=getFirst();navItemSelected.addClass("selected")}var navItemSelected=null;$("body").keydown(function(e){switch(e.which){case 38:console.log("up");navUp();e.preventDefault();break;case 40:console.log("down");navDown();e.preventDefault()}});(function(e,t,n){"use strict";function s(t,n){this.element=t;this.options=e.extend({},i,n);this._defaults=i;this._name=r;this.init()}var r="spaceswitcher",i={data:[],dataUrl:"data/spaces.json"};s.prototype.init=function(){var t=this;e(this.element).find(".search-input").keyup(function(){var n=t.unquote(e(this).val());console.log("keyup",n);t.getData(function(){e(".spaceswitcher .group").children().removeSearch().search(n).filter(".item").not(".match").hide().end().removeHighlight().highlight(n).end().end().show().not(function(){return e(this).children().hasClass("match")}).hide()})})};s.prototype.destroy=function(){e(this.element).off("."+this._name).find(".puzzle").empty();e.removeData(this.element,"plugin_"+this._name)};s.prototype.getData=function(t){var n=this;e.getJSON("data/spaces.json",function(e){n.renderResults(e);n.isFunction(t)&&t(e)})};s.prototype.renderResults=function(t){var n="";e.each(t,function(t,r){n+='<div class="group"><a class="header" href="https://podio.com">'+r.name+"</a>";e.each(r.spaces,function(e,t){n+='<a class="item" href="'+t.url+'">'+t.name+"</a>"});n+="</div>"});e(".results").html(n)};s.prototype.createWidget=function(){var t=this,n=e("<table><thead><tr><th/></tr></thead><tbody/><tfoot><tr><th/></tr></tfoot></table>");e.each(patternsX,function(){e("thead tr",n).append("<th><div><span>"+t.escapeHTML(this[0])+"</span></div></th>");this.length>1&&e("tfoot tr",n).append("<th><div><span>"+t.escapeHTML(this[1])+"</span></div></th>")});e.each(patternsY,function(r){var i=e("<tr><th><span>"+t.escapeHTML(this[0])+"</span></th></tr>");for(var s=0;s<patternsX.length;s++)i.append('<td><input type="text" name="'+String.fromCharCode(65+s)+(r+1)+'" autocomplete="off" maxlength="1" required/></td>');this.length>1&&i.append("<th><span>"+t.escapeHTML(this[1])+"</span></th>");e("tbody",n).append(i)});return n};s.prototype.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)};s.prototype.unquote=function(e){return e.replace(/['"]/g,"")};e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new s(this,t))})}})(jQuery,window);